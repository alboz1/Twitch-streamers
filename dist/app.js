"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var app={streamers:["freecodecamp","tsm_dyrus","tsm_bjergsen","donthedeveloper","summit1g"],online:!1,init:function(){$(".wrapper").html(""),this.getData()},eventListeners:function(){var t=this;$(".main-nav a").on("click",function(t){t.preventDefault();var e=$(this);"Online"===e.text()?($(".box").show(),$(".status-Offline").parent().hide()):"Offline"===e.text()?($(".box").show(),$(".status-Online").parent().hide()):"All"===e.text()&&$(".box").show()}),$("form").on("submit",function(e){e.preventDefault();var n=$(":text").val().replace(" ","");""!==n&&(t.addStreamer(n),t.init())}),$(".wrapper").on("click","a button",function(t){t.preventDefault();var e=$(this).siblings(".name").text().toLowerCase(),n=app.streamers.indexOf(e);app.streamers.splice(n,1),app.init()})},addStreamer:function(t){this.streamers.push(t)},getData:function(){var t,e=this,n=this.streamers.map(function(t){return $.ajax({url:"https://wind-bow.gomix.me/twitch-api/streams/"+t,dataType:"jsonp"}).then(function(e){return null===e.stream?$.ajax({url:"https://wind-bow.gomix.me/twitch-api/channels/"+t,dataType:"jsonp"}):$.ajax({url:"https://wind-bow.gomix.me/twitch-api/streams/"+t,dataType:"jsonp"})})});(t=$).when.apply(t,_toConsumableArray(n)).then(function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.map(function(t){return t[0]}).forEach(function(t,n){e.getInfo(t,n)})})},getInfo:function(t,e){t.stream?(this.online=!0,this.render({status:"Online",name:t.stream.channel.display_name,game:t.stream.channel.game,info:t.stream.channel.status,logo:t.stream.channel.logo,url:t.stream.channel.url})):(this.online=!1,this.render({status:"Offline",name:t.display_name,logo:t.logo,url:t.url,error:t.status,streamer:this.streamers[e]}))},catchError:function(t){return 422===t||400===t||404===t||null===t},render:function(t){$(".wrapper").append('\n\t\t\t<a href="'+t.url+'" target="_blank">\n\t\t\t\t<div class="box" '+(this.catchError(t.error)?'style="background: white"':"style=\"background: url('"+t.logo+"')\"")+'>\n\t\t\t\t\t<span class="status-'+t.status+'">\n\t\t\t\t\t\t'+(this.catchError(t.error)?"Account doesn't exist":t.status)+'\n\t\t\t\t\t</span>\n\t\t\t\t\t<p class="name">'+(this.catchError(t.error)?t.streamer:t.name)+"</p>\n\t\t\t\t\t"+(this.catchError(t.error)||!this.online?"":'<p class="game">'+t.game+"</p>")+"\n\t\t\t\t\t"+(this.catchError(t.error)||!this.online?"":'<p class="info">'+t.info+"</p>")+'\n\t\t\t\t\t<button class="delete-btn">&times;</button>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t')}};app.init(),app.eventListeners();
//# sourceMappingURL=app.js.map
